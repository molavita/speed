<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Velocidad Personalizado</title>
</head>
<body>
    <div id="downloadSpeed">Velocidad de descarga: Calculando...</div>
    <div id="uploadSpeed">Velocidad de subida: Calculando...</div>
    <button onclick="measureSpeed()">Iniciar Prueba de Velocidad</button>

    <script>
        async function measureSpeed() {
            // Prueba de Descarga
            const downloadUrl = "https://speed.hetzner.de/1gb.bin"; // URL del archivo de prueba de descarga
            const downloadStart = performance.now();
            await fetch(downloadUrl, { cache: "no-cache" }).then(response => response.blob());
            const downloadEnd = performance.now();
            const downloadDuration = (downloadEnd - downloadStart) / 1000; // en segundos
            const downloadSizeMB = 1000; // Tama√±o del archivo en MB
            const downloadSpeed = (downloadSizeMB / downloadDuration).toFixed(2);
            document.getElementById('downloadSpeed').textContent = `Velocidad de descarga: ${downloadSpeed} Mbps`;

            // Prueba de Subida
            const uploadUrl = "https://speed.hetzner.de/1gb.bin"; // URL del endpoint de subida
            const fileData = new Blob([new ArrayBuffer(1000 * 1024 * 1024)]); // Archivo de 10 MB para subir
            const uploadStart = performance.now();
            await fetch(uploadUrl, { method: "POST", body: fileData });
            const uploadEnd = performance.now();
            const uploadDuration = (uploadEnd - uploadStart) / 1000;
            const uploadSpeed = (downloadSizeMB / uploadDuration).toFixed(2);
            document.getElementById('uploadSpeed').textContent = `Velocidad de subida: ${uploadSpeed} Mbps`;
        }
    </script>
</body>
</html>







